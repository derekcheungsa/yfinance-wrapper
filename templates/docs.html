<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yahoo Finance API Documentation</title>
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <link rel="stylesheet" href="/static/css/custom.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Yahoo Finance API</a>
        </div>
    </nav>

    <div class="container mt-4">
        <h1>API Documentation</h1>
        
        <div class="card mb-4">
            <div class="card-body">
                <h2>Base URL</h2>
                <code class="d-block bg-dark p-2 rounded">/api</code>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2>Endpoints</h2>
                
                <!-- Previous endpoints remain unchanged -->
                <div class="endpoint mb-4">
                    <h3>Get Stock Data</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}</code>
                    <p>Returns current stock data including price, change, market cap, and volume.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Stock History</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/history?period={period}&interval={interval}</code>
                    <p>Returns historical stock data. Period options: 1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, max</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/history')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Moving Averages Analysis</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/moving-averages?period={period}&short_window={short}&long_window={long}</code>
                    <p>Returns SMA and EMA analysis. Default period: 6mo, short_window: 20, long_window: 50</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/moving-averages')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get RSI Analysis</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/rsi?period={period}&window={window}</code>
                    <p>Returns Relative Strength Index analysis. Default period: 6mo, window: 14</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/rsi')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Statistical Analysis</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/statistics?period={period}</code>
                    <p>Returns statistical analysis including volatility and returns. Default period: 1y</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/statistics')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Company Information</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/info</code>
                    <p>Returns detailed company information including sector, industry, and description.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/info')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Market Summary</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /market/summary</code>
                    <p>Returns summary of major market indices.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/market/summary')">Try it</button>
                </div>

                <!-- New analyst data endpoints -->
                <div class="endpoint mb-4">
                    <h3>Get Earnings Estimates</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/earnings</code>
                    <p>Returns EPS estimates including current year, next quarter, and growth rates.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/earnings')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Revenue Forecasts</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/revenue</code>
                    <p>Returns revenue forecasts including growth rates and profit margins.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/revenue')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Analyst Recommendations</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/recommendations</code>
                    <p>Returns recent analyst recommendations and ratings changes.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/recommendations')">Try it</button>
                </div>

                <div class="endpoint mb-4">
                    <h3>Get Price Targets</h3>
                    <code class="d-block bg-dark p-2 rounded">GET /stock/{ticker}/analysis/price-targets</code>
                    <p>Returns analyst price targets including high, low, mean, and median targets.</p>
                    <button class="btn btn-primary" onclick="tryEndpoint('/api/stock/AAPL/analysis/price-targets')">Try it</button>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2>Response</h2>
                <pre id="response" class="bg-dark p-3 rounded">Click 'Try it' to see response</pre>
            </div>
        </div>
    </div>

    <script src="/static/js/docs.js"></script>
</body>
</html>
